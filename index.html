<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Providence Anniversary Weekend Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Roboto:wght@300;400;500&display=swap" rel="stylesheet">
    
    <!-- Chosen Palette: Warm Harmony -->
    <!-- Application Structure Plan: The SPA is designed as an interactive dashboard, moving away from the linear report structure for better usability. It's organized into three main thematic sections navigated by a sticky header: 1. "Your Itinerary": A tabbed timeline (Day 1/2/3) that presents the suggested plan chronologically but interactively. This respects the original report's flow while making it more digestible. 2. "Explore Providence": A filterable gallery of all recommendations (dining, activities, tours). This is the core interactive element, allowing the couple to compare options by category and build their own plan, which is more user-friendly than scrolling through a long document. 3. "Plan Your Trip": Consolidates all practical logistics (transport, reservations) into an accordion, making this crucial but secondary information easily accessible without cluttering the main itinerary. This structure prioritizes user-driven exploration and comparison over passive reading. -->
    <!-- Visualization & Content Choices: 1. Dining Comparison (Bar Chart): Report Info: Restaurant price ranges ($$$ vs $$$$). Goal: Compare dining costs visually. Viz: Horizontal Bar Chart (Chart.js/Canvas) showing estimated costs. Justification: Provides a quick, quantitative comparison that's more effective than reading text descriptions. 2. Tour Value (Bubble Chart): Report Info: Tour prices, durations, group sizes. Goal: Compare tour options. Viz: Bubble Chart (Chart.js/Canvas) plotting price vs. duration, with bubble size representing exclusivity (inverse of group size). Justification: Synthesizes three data points into one clear, interactive graphic for easier decision-making. 3. Filterable Cards: Report Info: All activities, restaurants, and sights. Goal: Organize and allow comparison. Presentation: HTML/Tailwind grid. Interaction: JS-powered filters. Justification: Transforms static lists/tables into a dynamic exploration tool. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #FDF8F0; /* Creamy background */
            color: #433A3F; /* Muted dark gray */
        }
        h1, h2, h3, .font-display {
            font-family: 'Playfair Display', serif;
        }
        .active-tab {
            border-bottom-color: #C07F63; /* Terracotta accent */
            color: #C07F63;
        }
        .nav-link {
            transition: color 0.3s ease;
        }
        .nav-link:hover {
            color: #C07F63;
        }
        .card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .btn-primary {
            background-color: #C07F63;
            color: #FDF8F0;
            transition: background-color 0.3s ease;
        }
        .btn-primary:hover {
            background-color: #A9684C;
        }
        .btn-secondary {
            background-color: #EAE0D5;
            color: #433A3F;
            transition: background-color 0.3s ease;
        }
        .btn-secondary:hover {
            background-color: #D6C6B3;
        }
        .btn-filter.active {
            background-color: #C07F63;
            color: #FDF8F0;
        }
        .chart-container {
            position: relative;
            margin: auto;
            height: 350px;
            width: 100%;
            max-width: 700px;
        }
        .memory-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .memory-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        /* Hero Section with Background Image & Overlay */
        .hero-bg {
            background: linear-gradient(135deg, rgba(192, 127, 99, 0.7), rgba(192, 127, 99, 0.5)), 
                        url('ugo1.jpg');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            position: relative;
            overflow: hidden;
        }
        
        .hero-bg::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 30% 70%, rgba(253, 248, 240, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 70% 30%, rgba(192, 127, 99, 0.1) 0%, transparent 50%);
            animation: heroShimmer 20s ease-in-out infinite;
        }
        
        @keyframes heroShimmer {
            0%, 100% { opacity: 0.6; }
            50% { opacity: 1; }
        }
        
        .hero-content {
            position: relative;
            z-index: 2;
        }
        
        .hero-title {
            text-shadow: 2px 2px 4px rgba(67, 58, 63, 0.3);
            animation: heroFadeInUp 1.2s ease-out;
        }
        
        .hero-subtitle {
            text-shadow: 1px 1px 2px rgba(67, 58, 63, 0.2);
            animation: heroFadeInUp 1.2s ease-out 0.3s both;
        }
        
        @keyframes heroFadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Enhanced Call-to-Action Button */
        .cta-button {
            background: linear-gradient(45deg, #C07F63, #A9684C);
            color: #FDF8F0;
            padding: 16px 32px;
            border-radius: 50px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            box-shadow: 0 8px 25px rgba(192, 127, 99, 0.3);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
            position: relative;
            overflow: hidden;
            animation: heroFadeInUp 1.2s ease-out 0.6s both;
        }
        
        .cta-button::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }
        
        .cta-button:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(192, 127, 99, 0.4);
            background: linear-gradient(45deg, #A9684C, #8B5A3C);
        }
        
        .cta-button:hover::before {
            left: 100%;
        }
        
        /* Love Notes Feature */
        .love-note {
            position: fixed;
            background: rgba(253, 248, 240, 0.95);
            border: 2px solid #C07F63;
            border-radius: 12px;
            padding: 16px;
            max-width: 250px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            font-style: italic;
            color: #433A3F;
            transform: scale(0);
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            cursor: pointer;
        }
        
        .love-note.show {
            transform: scale(1);
            animation: loveNoteFloat 6s ease-in-out infinite;
        }
        
        .love-note::before {
            content: '💕';
            position: absolute;
            top: -10px;
            right: -5px;
            font-size: 20px;
        }
        
        @keyframes loveNoteFloat {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-10px) rotate(2deg); }
        }
        
        /* Anniversary Countdown */
        .countdown-container {
            background: linear-gradient(135deg, rgba(253, 248, 240, 0.9), rgba(234, 224, 213, 0.9));
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(192, 127, 99, 0.2);
        }
        
        .countdown-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: #C07F63;
            text-shadow: 2px 2px 4px rgba(67, 58, 63, 0.1);
        }
        
        .countdown-label {
            font-size: 0.9rem;
            color: #433A3F;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        /* Floating Hearts Animation */
        .floating-heart {
            position: fixed;
            color: #C07F63;
            pointer-events: none;
            z-index: 999;
            font-size: 20px;
            animation: floatHeart 4s ease-in-out forwards;
        }
        
        @keyframes floatHeart {
            0% {
                opacity: 1;
                transform: translateY(0px) scale(0);
            }
            15% {
                transform: translateY(-20px) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(0.5);
            }
        }
        
        /* Interactive Timeline Enhancement */
        .timeline-item {
            position: relative;
            transition: all 0.3s ease;
        }
        
        .timeline-item:hover {
            transform: translateX(10px);
        }
        
        .timeline-item:hover .timeline-icon {
            transform: scale(1.2);
            box-shadow: 0 8px 20px rgba(192, 127, 99, 0.3);
        }
        
        .timeline-icon {
            transition: all 0.3s ease;
        }
        
        /* Wish List & Bucket List Styles */
        .wish-item {
            background: white;
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
            border-left: 4px solid #C07F63;
        }
        
        .wish-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }
        
        .wish-item.completed {
            background: #f0f9f0;
            border-left-color: #4CAF50;
        }
        
        /* Responsive Design Enhancements */
        @media (max-width: 768px) {
            .hero-bg {
                background-attachment: scroll;
            }
            
            .countdown-number {
                font-size: 2rem;
            }
            
            .cta-button {
                padding: 14px 28px;
                font-size: 14px;
            }
            
            .love-note {
                max-width: 200px;
                padding: 12px;
                font-size: 14px;
            }
        }
        
        /* Modern Color Palette Variables */
        :root {
            --primary-color: #C07F63;      /* Warm terracotta */
            --secondary-color: #A9684C;    /* Deeper terracotta */
            --accent-color: #D6C6B3;       /* Warm beige */
            --background-color: #FDF8F0;   /* Creamy white */
            --surface-color: #EAE0D5;      /* Light warm gray */
            --text-primary: #433A3F;       /* Dark gray */
            --text-secondary: #6B5B73;     /* Medium gray */
            --success-color: #4CAF50;      /* Green */
            --warning-color: #FF9800;      /* Orange */
            --error-color: #F44336;        /* Red */
        }

        /* Music Player Styles */
        .music-player {
            background: linear-gradient(135deg, rgba(253, 248, 240, 0.95), rgba(234, 224, 213, 0.95));
            border-radius: 20px;
            padding: 24px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(192, 127, 99, 0.2);
            position: relative;
            overflow: hidden;
        }

        .music-player::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, rgba(192, 127, 99, 0.05) 0%, transparent 50%);
            animation: musicShimmer 8s ease-in-out infinite;
        }

        @keyframes musicShimmer {
            0%, 100% { opacity: 0.3; }
            50% { opacity: 0.7; }
        }

        .music-content {
            position: relative;
            z-index: 2;
        }

        .song-title {
            font-size: 1.25rem;
            font-weight: bold;
            color: #C07F63;
            margin-bottom: 8px;
            font-family: 'Playfair Display', serif;
        }

        .song-artist {
            color: #433A3F;
            margin-bottom: 16px;
            font-style: italic;
        }

        .play-button {
            background: linear-gradient(45deg, #C07F63, #A9684C);
            color: white;
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 8px 25px rgba(192, 127, 99, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 16px;
        }

        .play-button:hover {
            transform: scale(1.1);
            box-shadow: 0 12px 30px rgba(192, 127, 99, 0.4);
        }

        .play-button.playing {
            animation: pulse 2s ease-in-out infinite;
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        .music-note {
            position: absolute;
            color: #C07F63;
            font-size: 20px;
            animation: floatNote 3s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes floatNote {
            0%, 100% { transform: translateY(0px) rotate(0deg); opacity: 0.6; }
            50% { transform: translateY(-15px) rotate(10deg); opacity: 1; }
        }

        .soundcloud-embed {
            border-radius: 12px;
            overflow: hidden;
            margin-top: 16px;
        }
        
        .soundcloud-embed iframe {
            border: none !important;
            border-radius: 12px;
            display: block;
        }

        /* Our Song Section */
        .our-song-section {
            background: linear-gradient(135deg, #C07F63, #A9684C);
            color: white;
            position: relative;
            overflow: hidden;
        }

        .our-song-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="2" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0.1;0.3;0.1" dur="4s" repeatCount="indefinite"/></circle><circle cx="80" cy="60" r="1.5" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0.1;0.4;0.1" dur="3s" repeatCount="indefinite"/></circle><circle cx="60" cy="80" r="1" fill="rgba(255,255,255,0.1)"><animate attributeName="opacity" values="0.1;0.2;0.1" dur="5s" repeatCount="indefinite"/></circle></svg>');
            background-size: 200px 200px;
            animation: starfield 20s linear infinite;
        }

        @keyframes starfield {
            0% { transform: translate(0, 0); }
            100% { transform: translate(-200px, -200px); }
        }

        .song-lyrics-preview {
            font-style: italic;
            font-size: 1.1rem;
            line-height: 1.6;
            margin: 16px 0;
            padding: 16px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            backdrop-filter: blur(5px);
        }

        /* Responsive Music Player */
        @media (max-width: 768px) {
            .music-player {
                padding: 16px;
                margin: 16px;
            }
            
            .play-button {
                width: 50px;
                height: 50px;
                font-size: 20px;
            }
            
            .song-title {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>

    <header class="bg-white/80 backdrop-blur-lg sticky top-0 z-50 shadow-sm">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-xl md:text-2xl font-bold text-[#433A3F]">A Providence Anniversary</h1>
            <div class="hidden md:flex space-x-8">
                <a href="#itinerary" class="nav-link text-lg">Your Itinerary</a>
                <a href="#explore" class="nav-link text-lg">Explore Providence</a>
                <a href="#notes" class="nav-link text-lg">Couple's Notes</a>
                <a href="#our-song" class="nav-link text-lg">Our Song</a>
                <a href="#memories" class="nav-link text-lg">Our Memories</a>
                <a href="#plan" class="nav-link text-lg">Plan Your Trip</a>
            </div>
            <div class="md:hidden">
                <button id="menu-btn" class="focus:outline-none">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                </button>
            </div>
        </nav>
        <div id="mobile-menu" class="hidden md:hidden px-6 pb-4">
            <a href="#itinerary" class="block py-2 nav-link">Your Itinerary</a>
            <a href="#explore" class="block py-2 nav-link">Explore Providence</a>
            <a href="#notes" class="block py-2 nav-link">Couple's Notes</a>
            <a href="#our-song" class="block py-2 nav-link">Our Song</a>
            <a href="#memories" class="block py-2 nav-link">Our Memories</a>
            <a href="#plan" class="block py-2 nav-link">Plan Your Trip</a>
        </div>
    </header>

    <main>
        <section id="hero" class="hero-bg text-center py-32 px-6 min-h-screen flex items-center">
            <div class="container mx-auto hero-content">
                <div class="countdown-container max-w-md mx-auto mb-8">
                    <div class="text-center">
                        <div class="countdown-number" id="countdown-days">6</div>
                        <div class="countdown-label">Days Until Our Trip</div>
                        <p class="text-sm mt-2 text-[#433A3F]/70">Providence awaits us on July 11th at 4 PM! 💕</p>
                    </div>
                </div>
                
                <h1 class="hero-title text-5xl md:text-7xl font-bold mb-6 text-white">
                    Your Perfect Anniversary Escape
                </h1>
                <p class="hero-subtitle text-xl md:text-2xl max-w-4xl mx-auto text-white/90 mb-8 leading-relaxed">
                    An interactive guide to a romantic weekend in Providence, designed for your one-month anniversary. 
                    Explore, plan, and create unforgettable memories together from June 11th to 13th.
                </p>
                
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center">
                    <button class="cta-button" onclick="scrollToSection('itinerary')">
                        ✨ Start Planning Our Adventure
                    </button>
                    <button class="btn-secondary px-6 py-3 rounded-full" onclick="showLoveNote()">
                        💌 Send a Love Note
                    </button>
                </div>
                
                <div class="mt-12 text-white/70">
                    <p class="text-sm">Scroll down to begin our romantic journey</p>
                    <div class="animate-bounce mt-2">↓</div>
                </div>
            </div>
        </section>
        
        <!-- Love Notes Container -->
        <div id="love-notes-container"></div>
                        <div class="countdown-label">Days Until Your Anniversary</div>
                    </div>
                </div>
                <a href="#itinerary" class="btn-primary cta-button px-8 py-3 rounded-full text-lg font-semibold">
                    Start Planning Your Getaway
                </a>
            </div>
        </section>

        <section id="itinerary" class="py-16 md:py-24">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">Your Itinerary</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-12 text-[#433A3F]/80">
                    This suggested timeline blends romance, culture, and culinary delights into a perfect anniversary weekend. We've structured the plan day by day, but feel free to mix and match based on your mood. Click the tabs to switch between days.
                </p>
                <div class="border-b border-gray-200">
                    <nav class="-mb-px flex justify-center space-x-8" aria-label="Tabs">
                        <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg active-tab" data-tab="day1">Friday, June 11</button>
                        <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-[#C07F63] hover:border-[#C07F63]" data-tab="day2">Saturday, June 12</button>
                        <button class="tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-[#C07F63] hover:border-[#C07F63]" data-tab="day3">Sunday, June 13</button>
                    </nav>
                </div>

                <div id="tab-content" class="mt-12">
                </div>
            </div>
        </section>

        <section id="explore" class="py-16 md:py-24 bg-[#EAE0D5]">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">Explore Providence</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-12 text-[#433A3F]/80">
                    Discover all the romantic possibilities Providence has to offer. Use the filters to find the perfect spots for your celebration, from intimate dining to scenic tours. The charts below help you compare your options at a glance.
                </p>
                <div class="flex justify-center flex-wrap gap-2 mb-12">
                    <button class="btn-filter btn-secondary px-4 py-2 rounded-full active" data-filter="all">All</button>
                    <button class="btn-filter btn-secondary px-4 py-2 rounded-full" data-filter="Dining">Dining</button>
                    <button class="btn-filter btn-secondary px-4 py-2 rounded-full" data-filter="Tour">Tours</button>
                    <button class="btn-filter btn-secondary px-4 py-2 rounded-full" data-filter="Culture">Culture</button>
                    <button class="btn-filter btn-secondary px-4 py-2 rounded-full" data-filter="Outdoor">Outdoor</button>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8 mb-16" id="explore-grid">
                </div>

                <div class="grid md:grid-cols-2 gap-12 items-center">
                    <div>
                        <h3 class="text-2xl font-bold text-center mb-4">Dining Cost Comparison</h3>
                        <p class="text-center text-md max-w-xl mx-auto mb-6 text-[#433A3F]/80">To help you choose the perfect anniversary dinner, this chart provides an estimated cost per person for our top dining recommendations. Upscale options offer a truly special experience, while others provide a romantic ambiance at a more moderate price.</p>
                        <div class="chart-container">
                            <canvas id="diningChart"></canvas>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-center mb-4">River Tour Value</h3>
                        <p class="text-center text-md max-w-xl mx-auto mb-6 text-[#433A3F]/80">Which boat tour is right for you? This chart compares each tour by price and duration. The size of the bubble indicates the exclusivity of the tour (smaller bubble means a smaller, more intimate group). A private charter offers the ultimate personalized experience.</p>
                        <div class="chart-container">
                             <canvas id="tourChart"></canvas>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <section id="notes" class="py-16 md:py-24 bg-[#EAE0D5]">
            <div class="container mx-auto px-6 max-w-4xl">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">Couple's Notes</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-12 text-[#433A3F]/80">
                    Capture your thoughts, plans, and memories for each day. Upload photos and jot down notes to make this trip uniquely yours.
                </p>

                <!-- Notes Tabs -->
                <div class="border-b border-gray-200 mb-8">
                    <nav class="-mb-px flex justify-center space-x-8" aria-label="Notes Tabs">
                        <button class="notes-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg active-tab" data-notes-tab="notes1">Friday Notes</button>
                        <button class="notes-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-[#C07F63] hover:border-[#C07F63]" data-notes-tab="notes2">Saturday Notes</button>
                        <button class="notes-tab-btn whitespace-nowrap py-4 px-1 border-b-2 font-medium text-lg text-gray-500 hover:text-[#C07F63] hover:border-[#C07F63]" data-notes-tab="notes3">Sunday Notes</button>
                    </nav>
                </div>

                <!-- Notes Content -->
                <div id="notes-content">
                    <!-- Friday Notes -->
                    <div id="notes1" class="notes-day-content">
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="bg-white rounded-lg p-6 shadow-sm">
                                <h3 class="text-xl font-bold font-display mb-4">Your Photos</h3>
                                <div class="mb-4">
                                    <label for="photo-upload-1" class="btn-primary px-4 py-2 rounded cursor-pointer inline-block">
                                        📸 Upload Photo
                                    </label>
                                    <input type="file" id="photo-upload-1" class="hidden" accept="image/*" multiple>
                                </div>
                                <div id="photo-gallery-1" class="grid grid-cols-2 gap-2"></div>
                            </div>
                            <div class="bg-white rounded-lg p-6 shadow-sm">
                                <h3 class="text-xl font-bold font-display mb-4">Your Notes</h3>
                                <textarea id="notes-text-1" class="w-full h-40 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-[#C07F63] focus:border-transparent" placeholder="Write your thoughts, plans, or memories for Friday..."></textarea>
                                <div class="flex justify-between items-center mt-2">
                                    <span id="char-count-1" class="text-sm text-gray-500">0 characters</span>
                                    <button id="save-notes-1" class="btn-secondary px-3 py-1 rounded text-sm">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Saturday Notes -->
                    <div id="notes2" class="notes-day-content hidden">
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="bg-white rounded-lg p-6 shadow-sm">
                                <h3 class="text-xl font-bold font-display mb-4">Your Photos</h3>
                                <div class="mb-4">
                                    <label for="photo-upload-2" class="btn-primary px-4 py-2 rounded cursor-pointer inline-block">
                                        📸 Upload Photo
                                    </label>
                                    <input type="file" id="photo-upload-2" class="hidden" accept="image/*" multiple>
                                </div>
                                <div id="photo-gallery-2" class="grid grid-cols-2 gap-2"></div>
                            </div>
                            <div class="bg-white rounded-lg p-6 shadow-sm">
                                <h3 class="text-xl font-bold font-display mb-4">Your Notes</h3>
                                <textarea id="notes-text-2" class="w-full h-40 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-[#C07F63] focus:border-transparent" placeholder="Write your thoughts, plans, or memories for Saturday..."></textarea>
                                <div class="flex justify-between items-center mt-2">
                                    <span id="char-count-2" class="text-sm text-gray-500">0 characters</span>
                                    <button id="save-notes-2" class="btn-secondary px-3 py-1 rounded text-sm">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Sunday Notes -->
                    <div id="notes3" class="notes-day-content hidden">
                        <div class="grid md:grid-cols-2 gap-8">
                            <div class="bg-white rounded-lg p-6 shadow-sm">
                                <h3 class="text-xl font-bold font-display mb-4">Your Photos</h3>
                                <div class="mb-4">
                                    <label for="photo-upload-3" class="btn-primary px-4 py-2 rounded cursor-pointer inline-block">
                                        📸 Upload Photo
                                    </label>
                                    <input type="file" id="photo-upload-3" class="hidden" accept="image/*" multiple>
                                </div>
                                <div id="photo-gallery-3" class="grid grid-cols-2 gap-2"></div>
                            </div>
                            <div class="bg-white rounded-lg p-6 shadow-sm">
                                <h3 class="text-xl font-bold font-display mb-4">Your Notes</h3>
                                <textarea id="notes-text-3" class="w-full h-40 p-3 border border-gray-300 rounded-lg resize-none focus:ring-2 focus:ring-[#C07F63] focus:border-transparent" placeholder="Write your thoughts, plans, or memories for Sunday..."></textarea>
                                <div class="flex justify-between items-center mt-2">
                                    <span id="char-count-3" class="text-sm text-gray-500">0 characters</span>
                                    <button id="save-notes-3" class="btn-secondary px-3 py-1 rounded text-sm">Save</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="our-song" class="our-song-section py-16 md:py-24 relative">
            <div class="container mx-auto px-6 max-w-4xl relative z-10">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4 text-white">Our Song</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-12 text-white/90">
                    Every love story has a soundtrack. This is the song that captures our journey and sets the mood for our romantic Providence adventure.
                </p>

                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <div class="music-player">
                        <div class="music-content text-center">
                            <div class="music-note" style="top: 10px; right: 20px;">🎵</div>
                            <div class="music-note" style="bottom: 15px; left: 15px;">🎶</div>
                            
                            <div class="song-title">Burning Blue</div>
                            <div class="song-artist">by Mariah the Scientist</div>
                            
                            <button class="play-button" id="music-play-btn" onclick="toggleMusic()">
                                <span id="play-icon">▶️</span>
                            </button>
                            
                            <p class="text-sm text-[#433A3F]/70 mb-4">
                                Click to experience our special song
                            </p>
                            
                            <div class="soundcloud-embed">
                                <iframe 
                                    width="100%" 
                                    height="300" 
                                    scrolling="no" 
                                    frameborder="no" 
                                    allow="autoplay" 
                                    src="https://w.soundcloud.com/player/?url=https%3A//api.soundcloud.com/tracks/2087427186&color=%23c07f63&auto_play=false&hide_related=false&show_comments=true&show_user=true&show_reposts=false&show_teaser=true&visual=true"
                                    style="border-radius: 12px; border: none;">
                                </iframe>
                                <div style="font-size: 10px; color: #cccccc; line-break: anywhere; word-break: normal; overflow: hidden; white-space: nowrap; text-overflow: ellipsis; font-family: Interstate,Lucida Grande,Lucida Sans Unicode,Lucida Sans,Garuda,Verdana,Tahoma,sans-serif; font-weight: 100;">
                                    <a href="https://soundcloud.com/mariahthescientist" title="Mariah the Scientist" target="_blank" style="color: #cccccc; text-decoration: none;">Mariah the Scientist</a> · 
                                    <a href="https://soundcloud.com/mariahthescientist/burning-blue" title="Burning Blue" target="_blank" style="color: #cccccc; text-decoration: none;">Burning Blue</a>
                                </div>
                            </div>
                            
                            <div class="mt-4 text-center">
                                <p class="text-xs text-[#433A3F]/60 mb-2">Can't hear the song? Listen here:</p>
                                <div class="flex justify-center gap-3">
                                    <a href="https://music.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank" class="text-[#C07F63] hover:text-[#A9684C] text-sm">
                                        🎵 YouTube Music
                                    </a>
                                    <a href="https://open.spotify.com/search/burning%20blue%20mariah%20the%20scientist" target="_blank" class="text-[#C07F63] hover:text-[#A9684C] text-sm">
                                        🎶 Spotify
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="text-white">
                        <h3 class="text-2xl font-bold font-display mb-6">Why This Song Means Everything</h3>
                        
                        <div class="song-lyrics-preview">
                            "This song played in the Omni that first night, and I have gotten chills every other time I have listened to it. It perfectly captures that magical moment when everything changed, and the melody takes me back to that perfect evening when I knew this was something special."
                        </div>
                        
                        <div class="space-y-4">
                            <div class="flex items-center">
                                <span class="text-2xl mr-3">🏨</span>
                                <span>The song that played at the Omni that first night</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-2xl mr-3">✨</span>
                                <span>Gives me chills every single time I hear it</span>
                            </div>
                            <div class="flex items-center">
                                <span class="text-2xl mr-3">💕</span>
                                <span>The soundtrack to our Providence adventure</span>
                            </div>
                        </div>
                        
                        <div class="mt-8 p-4 bg-white/10 rounded-lg backdrop-filter backdrop-blur-sm">
                            <p class="italic text-center">
                                "Music is the universal language of love, and this song speaks directly to our hearts. Every note reminds me why I chose you, today and always."
                            </p>
                        </div>
                    </div>
                </div>

                <!-- Music controls and playlist -->
                <div class="mt-12 text-center">
                    <h4 class="text-xl font-bold mb-4 text-white">Our Anniversary Playlist</h4>
                    <div class="grid md:grid-cols-3 gap-4">
                        <div class="bg-white/10 p-4 rounded-lg backdrop-filter backdrop-blur-sm">
                            <div class="text-lg font-semibold">🎵 Burning Blue</div>
                            <div class="text-sm opacity-80">Mariah the Scientist</div>
                            <div class="text-xs mt-2">Our special song</div>
                        </div>
                        <div class="bg-white/10 p-4 rounded-lg backdrop-filter backdrop-blur-sm">
                            <div class="text-lg font-semibold">💕 Perfect</div>
                            <div class="text-sm opacity-80">Ed Sheeran</div>
                            <div class="text-xs mt-2">Dinner soundtrack</div>
                        </div>
                        <div class="bg-white/10 p-4 rounded-lg backdrop-filter backdrop-blur-sm">
                            <div class="text-lg font-semibold">🌙 La Vie En Rose</div>
                            <div class="text-sm opacity-80">Édith Piaf</div>
                            <div class="text-xs mt-2">Evening stroll vibes</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="memories" class="py-16 md:py-24">
            <div class="container mx-auto px-6 max-w-6xl">
                <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">Our Memories</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-12 text-[#433A3F]/80">
                    Capturing the beautiful moments from our Providence adventure. These special memories will always remind us of our perfect anniversary weekend together.
                </p>

                <div class="grid md:grid-cols-2 gap-8 mb-12">
                    <div class="memory-card bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="relative group cursor-pointer" onclick="openModal('ugo1.jpg', 'Our Providence Adventure')">
                            <img src="ugo1.jpg" alt="Providence Memory 1" class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            <div class="absolute bottom-4 left-4 right-4 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <h3 class="text-xl font-bold font-display mb-2">Our Providence Adventure</h3>
                                <p class="text-sm">A beautiful moment captured during our anniversary weekend</p>
                            </div>
                            <div class="absolute top-4 right-4 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path>
                                </svg>
                            </div>
                        </div>
                    </div>

                    <div class="memory-card bg-white rounded-lg shadow-lg overflow-hidden">
                        <div class="relative group cursor-pointer" onclick="openModal('ugo2.jpg', 'Special Moments')">
                            <img src="ugo2.jpg" alt="Providence Memory 2" class="w-full h-80 object-cover transition-transform duration-300 group-hover:scale-105">
                            <div class="absolute inset-0 bg-gradient-to-t from-black/50 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
                            <div class="absolute bottom-4 left-4 right-4 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <h3 class="text-xl font-bold font-display mb-2">Special Moments</h3>
                                <p class="text-sm">Creating memories that will last a lifetime in beautiful Providence</p>
                            </div>
                            <div class="absolute top-4 right-4 text-white opacity-0 group-hover:opacity-100 transition-opacity duration-300">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v3m0 0v3m0-3h3m-3 0H7"></path>
                                </svg>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="text-center">
                    <p class="text-lg font-display text-[#C07F63] mb-4">✨ Forever in our hearts ✨</p>
                    <p class="text-[#433A3F]/80 max-w-2xl mx-auto">
                        These photos represent just a glimpse of the magic we experienced together. Every corner of Providence holds a special memory from our anniversary celebration.
                    </p>
                </div>
            </div>
        </section>

        <section id="plan" class="py-16 md:py-24">
            <div class="container mx-auto px-6 max-w-4xl">
                 <h2 class="text-3xl md:text-4xl font-bold text-center mb-4">Plan Your Trip</h2>
                <p class="text-center text-lg max-w-3xl mx-auto mb-12 text-[#433A3F]/80">
                    Here are some practical tips to ensure your anniversary weekend is seamless and stress-free. From getting around the city to making essential reservations, we've got you covered. Click on each topic to see the details.
                </p>
                <div id="accordion-container" class="space-y-4">
                </div>
            </div>
        </section>

    </main>

    <!-- Full Screen Image Modal -->
    <div id="imageModal" class="modal">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <img id="modalImage" class="modal-content" alt="Full size image">
    </div>
    
    <footer class="bg-[#433A3F] text-[#FDF8F0] py-8 text-center">
        <p>Crafted with love for a memorable anniversary in Providence.</p>
    </footer>

<script>
const AppData = {
    itinerary: {
        day1: [
            { time: 'Afternoon', icon: '🧳', title: 'Arrival & Settling In', desc: 'Check into the stylish Neptune Hotel, your home base. Grab a coffee and relax before the romantic weekend begins. Ride-sharing services like Uber or Lyft are recommended for a smooth arrival.' },
            { time: 'Evening', icon: '🍽️', title: 'Exquisite Anniversary Dinner', desc: 'Celebrate at one of Providence\'s most romantic restaurants. Gracie\'s offers an intimate setting with tasting menus, while Hemenway\'s is perfect for seafood lovers. For a unique vibe, try CAV.' },
            { time: 'Night', icon: '🍸', title: 'Sophisticated Cocktails', desc: 'End your first night with a perfectly crafted cocktail. Visit Clementine Cocktail Bar for classic drinks or enjoy a convenient, intimate nightcap at The Bar inside your hotel.' }
        ],
        day2: [
            { time: 'Morning', icon: '☕', title: 'Leisurely Brunch & Culture', desc: 'Start with brunch at CAV or grab an artisan coffee from Little City Coffee. Then, immerse yourselves in culture at the historic Providence Athenaeum or the acclaimed RISD Museum.' },
            { time: 'Afternoon', icon: '⛵', title: 'Scenic Outdoor Adventure', desc: 'Experience Providence from the water with a Providence River Boat Company tour. The "Wine & Brine Cruise" is exceptionally romantic. Alternatively, enjoy a classic swan boat ride in Roger Williams Park.' },
            { time: 'Evening', icon: '🍝', title: 'Exploring Federal Hill', desc: 'Dine in Providence\'s "Little Italy." Massimo Restaurant is a favorite for its seasonal Italian menu. Afterwards, take a romantic stroll and maybe catch a sunset from Prospect Terrace Park.' },
            { time: 'Night', icon: '🎤', title: 'Unique Entertainment', desc: 'Check the WaterFire schedule for a magical bonfire display on the river. For a guaranteed fun and private night, head back to The Boombox karaoke lounge at the Neptune Hotel.' }
        ],
        day3: [
            { time: 'Morning', icon: '🏛️', title: 'Sweet Farewells', desc: 'Enjoy a final relaxed brunch. Take advantage of FREE Sunday admission at the RISD Museum for one last cultural dip. Remember, the Athenaeum is closed on Sundays.' },
            { time: 'Afternoon', icon: '🚗', title: 'Departure', desc: 'After a memorable weekend, enjoy a relaxed check-out. Use a ride-sharing service for a comfortable and easy journey home, filled with new memories.' }
        ]
    },
    explore: [
        { id: 1, category: 'Dining', title: 'Gracie\'s', desc: 'Warm & intimate, considered the "best romantic dinner" in Providence. Features exquisite multi-course tasting menus.', keyInfo: 'Price: $$$$', icon: '⭐' },
        { id: 2, category: 'Dining', title: 'Hemenway\'s Restaurant', desc: 'An upscale city staple for nearly 40 years, focusing on the freshest seafood, including whole lobster and oysters.', keyInfo: 'Price: $$$$', icon: '🦞' },
        { id: 3, category: 'Dining', title: 'Massimo Restaurant', desc: 'A Federal Hill favorite with a seasonal Italian menu served in a cozy, inviting atmosphere.', keyInfo: 'Price: $$', icon: '🇮🇹' },
        { id: 4, category: 'Dining', title: 'CAV Providence', desc: 'Unique "dining in a museum" experience in a historic loft with an eclectic, award-winning menu.', keyInfo: 'Price: $$', icon: '🖼️' },
        { id: 5, category: 'Tour', title: 'Wine & Brine Cruise', desc: 'A 2-hour tour with freshly shucked local oysters and complimentary wine. Ultimate romantic experience.', keyInfo: '$95/person', icon: '🥂' },
        { id: 6, category: 'Tour', title: 'Twilight River Cruise', desc: 'A 75-minute sunset tour to see the city bathed in a soft, golden light. Perfect for photos. (21+)', keyInfo: '$40/person', icon: '🌇' },
        { id: 7, category: 'Tour', title: 'Private Charter', desc: 'The epitome of exclusivity. A 1-hour private boat tour for just the two of you to create your own itinerary.', keyInfo: '$450/charter', icon: '💎' },
        { id: 8, category: 'Culture', title: 'RISD Museum', desc: 'A renowned art and design museum with diverse collections spanning ancient to contemporary works.', keyInfo: 'Free on Sundays!', icon: '🎨' },
        { id: 9, category: 'Culture', title: 'Providence Athenaeum', desc: 'A historic and intimate library on Benefit Street. Perfect for a quiet, intellectual stroll. (Closed Sundays)', keyInfo: 'Pay-what-you-can', icon: '📚' },
        { id: 10, category: 'Outdoor', title: 'Roger Williams Park', desc: 'A 435-acre urban oasis. Enjoy beautiful trails, picnic spots, or a charming swan boat ride on the pond.', keyInfo: 'Park is Free', icon: '🦢' },
        { id: 11, category: 'Outdoor', title: 'WaterFire', desc: 'A signature Providence event. An art installation of bonfires on the rivers, creating a magical atmosphere. (Schedule varies)', keyInfo: 'Check Schedule', icon: '🔥' },
        { id: 12, category: 'Culture', title: 'The Boombox', desc: 'Providence\'s only plush karaoke lounge, located in the Neptune Hotel. A fun, private spot for late-night revelry.', keyInfo: 'At your hotel!', icon: '🎤' }
    ],
    plan: [
        { title: 'Advance Reservations are Key', content: 'For a celebratory weekend, planning ahead is crucial. Top restaurants like Gracie\'s and sought-after boat tours fill up quickly. We highly recommend making reservations at least 1-2 weeks in advance to secure your preferred times and avoid disappointment.' },
        { title: 'Check Event Schedules', content: 'Providence\'s event calendar can change. The WaterFire schedule is typically released in the spring; check their official website closer to your trip. Similarly, while major shows at PPAC may not be running, check their site for any concerts or smaller performances that might be added.' },
        { title: 'Getting Around Providence', content: 'The downtown area is very walkable. For longer distances, ride-sharing services (Uber/Lyft) are readily available and offer a convenient, private way to travel. While public transit (RIPTA) is an option, rideshares align better with the stress-free nature of a romantic getaway.' },
        { title: 'What to Pack', content: 'Comfort is key for exploring the city\'s charming streets, so bring comfortable walking shoes. Providence weather in June can vary, so packing layers (a light jacket or sweater for evenings) is always a smart choice. Don\'t forget a slightly dressier outfit for your special anniversary dinner!' }
    ]
};

document.addEventListener('DOMContentLoaded', () => {
    const tabContainer = document.getElementById('tab-content');
    const exploreGrid = document.getElementById('explore-grid');
    const accordionContainer = document.getElementById('accordion-container');

    // Photo storage for each day
    const photoStorage = {
        1: [],
        2: [],
        3: []
    };

    // Love notes array
    const loveNotes = [
        "I love how you make every ordinary moment feel like magic ✨",
        "Your smile is my favorite view in any city, including Providence 😊",
        "Thank you for being my adventure partner in life and love 💕",
        "Every day with you feels like our first date all over again 🥰",
        "You make my heart feel at home, no matter where we are 🏡",
        "I choose you today, tomorrow, and for all our adventures to come 💖",
        "Your laugh is the best soundtrack to any trip we take together 🎵",
        "With you, even planning is part of the romance 📝💕"
    ];

    // Romantic Interactive Features
    function createFloatingHeart(x, y) {
        const heart = document.createElement('div');
        heart.className = 'floating-heart';
        heart.textContent = ['💖', '💕', '💝', '💗', '💘'][Math.floor(Math.random() * 5)];
        heart.style.left = x + 'px';
        heart.style.top = y + 'px';
        document.body.appendChild(heart);
        
        setTimeout(() => heart.remove(), 4000);
    }

    function showLoveNote() {
        const note = document.createElement('div');
        note.className = 'love-note';
        note.textContent = loveNotes[Math.floor(Math.random() * loveNotes.length)];
        
        // Random position
        note.style.top = Math.random() * (window.innerHeight - 200) + 'px';
        note.style.left = Math.random() * (window.innerWidth - 250) + 'px';
        
        document.getElementById('love-notes-container').appendChild(note);
        
        setTimeout(() => note.classList.add('show'), 100);
        
        note.addEventListener('click', () => {
            note.classList.remove('show');
            setTimeout(() => note.remove(), 500);
        });
        
        // Auto remove after 8 seconds
        setTimeout(() => {
            if (note.parentNode) {
                note.classList.remove('show');
                setTimeout(() => note.remove(), 500);
            }
        }, 8000);
    }

    function scrollToSection(sectionId) {
        document.getElementById(sectionId).scrollIntoView({ 
            behavior: 'smooth' 
        });
    }

    function startCountdown() {
        const targetDate = new Date('2025-07-11T16:00:00'); // Friday, July 11th, 2025 at 4:00 PM
        const now = new Date();
        const timeDiff = targetDate.getTime() - now.getTime();
        
        const countdownElement = document.getElementById('countdown-days');
        const labelElement = document.querySelector('.countdown-label');
        const messageElement = document.querySelector('.countdown-container p');
        
        if (countdownElement && labelElement) {
            if (timeDiff > 0) {
                const days = Math.floor(timeDiff / (1000 * 60 * 60 * 24));
                const hours = Math.floor((timeDiff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((timeDiff % (1000 * 60 * 60)) / (1000 * 60));
                
                if (days > 0) {
                    countdownElement.textContent = days;
                    labelElement.textContent = days === 1 ? 'Day Until Our Trip' : 'Days Until Our Trip';
                    if (messageElement) {
                        messageElement.textContent = `Providence awaits us on July 11th at 4 PM! 💕`;
                    }
                } else if (hours > 0) {
                    countdownElement.textContent = hours;
                    labelElement.textContent = hours === 1 ? 'Hour Until Our Trip' : 'Hours Until Our Trip';
                    if (messageElement) {
                        messageElement.textContent = `Almost time for our Providence adventure! 🎉`;
                    }
                } else {
                    countdownElement.textContent = minutes;
                    labelElement.textContent = minutes === 1 ? 'Minute Until Our Trip' : 'Minutes Until Our Trip';
                    if (messageElement) {
                        messageElement.textContent = `Our romantic getaway starts any moment now! ✨`;
                    }
                }
            } else {
                countdownElement.textContent = '🎉';
                labelElement.textContent = 'Our Trip Has Begun!';
                if (messageElement) {
                    messageElement.textContent = 'Welcome to our magical Providence weekend! 💖';
                }
            }
        }
    }

    // Add random floating hearts on scroll
    let lastScrollY = window.scrollY;
    window.addEventListener('scroll', () => {
        if (Math.random() < 0.05) { // 5% chance on scroll
            createFloatingHeart(
                Math.random() * window.innerWidth,
                window.innerHeight + 50
            );
        }
        lastScrollY = window.scrollY;
    });

    // Make these functions global
    window.showLoveNote = showLoveNote;
    window.scrollToSection = scrollToSection;
    window.createFloatingHeart = createFloatingHeart;

    // Music player functionality
    let isPlaying = false;
    
    window.toggleMusic = () => {
        const playBtn = document.getElementById('music-play-btn');
        const playIcon = document.getElementById('play-icon');
        
        if (!isPlaying) {
            playBtn.classList.add('playing');
            playIcon.textContent = '⏸️';
            isPlaying = true;
            
            // Create floating music notes
            setInterval(() => {
                if (isPlaying) {
                    createMusicNote();
                }
            }, 2000);
            
        } else {
            playBtn.classList.remove('playing');
            playIcon.textContent = '▶️';
            isPlaying = false;
        }
    };

    function createMusicNote() {
        const note = document.createElement('div');
        note.className = 'floating-heart';
        note.textContent = ['🎵', '🎶', '♪', '♫'][Math.floor(Math.random() * 4)];
        note.style.left = Math.random() * window.innerWidth + 'px';
        note.style.top = window.innerHeight + 'px';
        note.style.color = '#C07F63';
        document.body.appendChild(note);
        
        setTimeout(() => note.remove(), 4000);
    }

    // Start countdown
    startCountdown();
    
    // Update countdown every minute
    setInterval(startCountdown, 60000);
    
    // Add click hearts to memory cards
    document.addEventListener('click', (e) => {
        if (e.target.closest('.memory-card')) {
            createFloatingHeart(e.clientX, e.clientY);
        }
    });

    function renderItinerary(day) {
        const items = AppData.itinerary[day];
        if (!items) return;
        tabContainer.innerHTML = `
            <div class="relative max-w-2xl mx-auto">
                <div class="absolute left-4 top-0 h-full w-0.5 bg-[#EAE0D5]"></div>
                ${items.map(item => `
                    <div class="relative pl-12 pb-12">
                        <div class="absolute left-0 top-1.5 flex items-center justify-center bg-[#C07F63] text-white rounded-full h-8 w-8 text-xl">${item.icon}</div>
                        <h3 class="text-xl font-bold font-display">${item.title} <span class="text-sm font-normal text-gray-500 ml-2">${item.time}</span></h3>
                        <p class="mt-1 text-[#433A3F]/80">${item.desc}</p>
                    </div>
                `).join('')}
            </div>
        `;
    }

    function renderExploreCards(filter = 'all') {
        const filteredItems = filter === 'all' 
            ? AppData.explore 
            : AppData.explore.filter(item => item.category === filter);
        
        exploreGrid.innerHTML = filteredItems.map(item => `
            <div class="card bg-white rounded-lg shadow-md overflow-hidden" data-category="${item.category}">
                <div class="p-6">
                    <div class="flex items-center mb-4">
                        <div class="text-3xl mr-4">${item.icon}</div>
                        <div>
                            <h3 class="text-xl font-bold font-display">${item.title}</h3>
                            <p class="text-sm text-[#C07F63] font-medium">${item.category}</p>
                        </div>
                    </div>
                    <p class="text-[#433A3F]/80 mb-4">${item.desc}</p>
                    <div class="text-right font-medium text-[#433A3F]">${item.keyInfo}</div>
                </div>
            </div>
        `).join('');
    }

    function renderAccordion() {
        accordionContainer.innerHTML = AppData.plan.map((item, index) => `
            <div class="accordion-item bg-white rounded-lg shadow-sm">
                <h2>
                    <button type="button" class="flex items-center justify-between w-full p-5 font-medium text-left text-gray-700" data-accordion-target="#accordion-body-${index}" aria-expanded="${index === 0 ? 'true' : 'false'}">
                        <span class="text-lg font-display">${item.title}</span>
                        <svg class="w-6 h-6 shrink-0 transition-transform duration-300" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>
                    </button>
                </h2>
                <div id="accordion-body-${index}" class="${index === 0 ? '' : 'hidden'} p-5 border-t border-gray-200">
                    <p class="text-gray-600">${item.content}</p>
                </div>
            </div>
        `).join('');
    }

    // Photo upload functionality
    function setupPhotoUpload(dayNumber) {
        const uploadInput = document.getElementById(`photo-upload-${dayNumber}`);
        const gallery = document.getElementById(`photo-gallery-${dayNumber}`);

        uploadInput.addEventListener('change', (e) => {
            const files = Array.from(e.target.files);
            
            files.forEach(file => {
                if (file.type.startsWith('image/')) {
                    const reader = new FileReader();
                    reader.onload = (e) => {
                        const photoData = {
                            id: Date.now() + Math.random(),
                            src: e.target.result,
                            name: file.name
                        };
                        
                        photoStorage[dayNumber].push(photoData);
                        savePhotosToStorage();
                        renderPhotoGallery(dayNumber);
                    };
                    reader.readAsDataURL(file);
                }
            });
        });
    }

    function renderPhotoGallery(dayNumber) {
        const gallery = document.getElementById(`photo-gallery-${dayNumber}`);
        const photos = photoStorage[dayNumber];

        gallery.innerHTML = photos.map(photo => `
            <div class="relative group">
                <img src="${photo.src}" alt="${photo.name}" class="w-full h-24 object-cover rounded-lg">
                <button onclick="removePhoto(${dayNumber}, '${photo.id}')" class="absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 text-xs opacity-0 group-hover:opacity-100 transition-opacity">×</button>
            </div>
        `).join('');
    }

    // Make removePhoto function global
    window.removePhoto = (dayNumber, photoId) => {
        photoStorage[dayNumber] = photoStorage[dayNumber].filter(photo => photo.id != photoId);
        savePhotosToStorage();
        renderPhotoGallery(dayNumber);
    };

    // Notes functionality
    function setupNotes(dayNumber) {
        const textarea = document.getElementById(`notes-text-${dayNumber}`);
        const charCount = document.getElementById(`char-count-${dayNumber}`);
        const saveBtn = document.getElementById(`save-notes-${dayNumber}`);

        // Load saved notes
        const savedNotes = localStorage.getItem(`anniversary-notes-${dayNumber}`);
        if (savedNotes) {
            textarea.value = savedNotes;
            updateCharCount(dayNumber);
        }

        // Character count update
        textarea.addEventListener('input', () => updateCharCount(dayNumber));

        // Save notes
        saveBtn.addEventListener('click', () => {
            localStorage.setItem(`anniversary-notes-${dayNumber}`, textarea.value);
            saveBtn.textContent = 'Saved!';
            saveBtn.classList.remove('btn-secondary');
            saveBtn.classList.add('btn-primary');
            
            setTimeout(() => {
                saveBtn.textContent = 'Save';
                saveBtn.classList.remove('btn-primary');
                saveBtn.classList.add('btn-secondary');
            }, 2000);
        });
    }

    function updateCharCount(dayNumber) {
        const textarea = document.getElementById(`notes-text-${dayNumber}`);
        const charCount = document.getElementById(`char-count-${dayNumber}`);
        charCount.textContent = `${textarea.value.length} characters`;
    }

    // Save photos to localStorage
    function savePhotosToStorage() {
        localStorage.setItem('anniversary-photos', JSON.stringify(photoStorage));
    }

    // Load photos from localStorage
    function loadPhotosFromStorage() {
        const saved = localStorage.getItem('anniversary-photos');
        if (saved) {
            const parsed = JSON.parse(saved);
            Object.assign(photoStorage, parsed);
            
            // Render all galleries
            for (let i = 1; i <= 3; i++) {
                renderPhotoGallery(i);
            }
        }
    }
    
    // Initial renders
    renderItinerary('day1');
    renderExploreCards();
    renderAccordion();
    
    // Setup notes and photos for each day
    for (let i = 1; i <= 3; i++) {
        setupPhotoUpload(i);
        setupNotes(i);
    }
    
    // Load saved photos
    loadPhotosFromStorage();
    
    // Event Listeners for itinerary tabs
    document.querySelector('.tab-btn[data-tab="day1"]').classList.add('active-tab');
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active-tab', 'text-[#C07F63]'));
            btn.classList.add('active-tab');
            renderItinerary(btn.dataset.tab);
        });
    });

    // Event Listeners for notes tabs
    document.querySelector('.notes-tab-btn[data-notes-tab="notes1"]').classList.add('active-tab');
    document.querySelectorAll('.notes-tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            // Remove active class from all notes tabs
            document.querySelectorAll('.notes-tab-btn').forEach(b => {
                b.classList.remove('active-tab', 'text-[#C07F63]');
                b.classList.add('text-gray-500');
            });
            
            // Add active class to clicked tab
            btn.classList.add('active-tab');
            btn.classList.remove('text-gray-500');
            
            // Hide all notes content
            document.querySelectorAll('.notes-day-content').forEach(content => {
                content.classList.add('hidden');
            });
            
            // Show selected notes content
            const targetContent = document.getElementById(btn.dataset.notesTab);
            if (targetContent) {
                targetContent.classList.remove('hidden');
            }
        });
    });

    document.querySelectorAll('.btn-filter').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.btn-filter').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            renderExploreCards(btn.dataset.filter);
        });
    });

    accordionContainer.addEventListener('click', (e) => {
        const button = e.target.closest('button[data-accordion-target]');
        if (button) {
            const targetId = button.getAttribute('data-accordion-target');
            const body = document.querySelector(targetId);
            const isExpanded = button.getAttribute('aria-expanded') === 'true';

            button.setAttribute('aria-expanded', !isExpanded);
            body.classList.toggle('hidden');
            button.querySelector('svg').classList.toggle('rotate-180');
        }
    });

    const menuBtn = document.getElementById('menu-btn');
    const mobileMenu = document.getElementById('mobile-menu');
    menuBtn.addEventListener('click', () => {
        mobileMenu.classList.toggle('hidden');
    });

    // Image Modal Functions
    window.openModal = (imageSrc, imageAlt) => {
        const modal = document.getElementById('imageModal');
        const modalImage = document.getElementById('modalImage');
        
        modalImage.src = imageSrc;
        modalImage.alt = imageAlt;
        modal.classList.add('show');
        
        // Prevent body scroll when modal is open
        document.body.style.overflow = 'hidden';
    };

    window.closeModal = () => {
        const modal = document.getElementById('imageModal');
        modal.classList.remove('show');
        
        // Restore body scroll
        document.body.style.overflow = 'auto';
    };

    // Close modal when clicking outside the image
    document.getElementById('imageModal').addEventListener('click', (e) => {
        if (e.target === e.currentTarget) {
            closeModal();
        }
    });

    // Close modal with Escape key
    document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') {
            closeModal();
        }
    });
    
    // Charts
    const diningCtx = document.getElementById('diningChart').getContext('2d');
    new Chart(diningCtx, {
        type: 'bar',
        data: {
            labels: ['Massimo', 'CAV', 'Hemenway\'s', 'Gracie\'s'],
            datasets: [{
                label: 'Estimated Cost per Person ($)',
                data: [75, 85, 120, 150],
                backgroundColor: ['#EAE0D5', '#D6C6B3', '#C07F63', '#A9684C'],
                borderColor: '#FDF8F0',
                borderWidth: 2
            }]
        },
        options: {
            indexAxis: 'y',
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { display: false },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            return `Est. $${context.raw}`;
                        }
                    }
                }
            },
            scales: {
                x: {
                    grid: { color: '#EAE0D5' },
                    ticks: {
                         font: { family: "'Roboto', sans-serif" }
                    }
                },
                y: {
                     grid: { display: false },
                     ticks: {
                         font: { family: "'Roboto', sans-serif", size: 14 }
                    }
                }
            }
        }
    });

    const tourCtx = document.getElementById('tourChart').getContext('2d');
    new Chart(tourCtx, {
        type: 'bubble',
        data: {
            datasets: [
                { label: 'Twilight Cruise', data: [{x: 75, y: 40, r: 10}], backgroundColor: '#C07F63' },
                { label: 'Wine & Brine', data: [{x: 120, y: 95, r: 12}], backgroundColor: '#A9684C' },
                { label: 'Private Charter', data: [{x: 60, y: 450, r: 25}], backgroundColor: '#433A3F' },
                { label: 'Historic Tour', data: [{x: 40, y: 26, r: 8}], backgroundColor: '#D6C6B3' },
            ]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                legend: { position: 'bottom' },
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            const label = context.dataset.label || '';
                            return `${label}: ${context.raw.x} mins, $${context.raw.y}`;
                        }
                    }
                }
            },
            scales: {
                x: {
                    title: { display: true, text: 'Duration (minutes)', font: { family: "'Roboto', sans-serif" } },
                    grid: { color: '#EAE0D5' },
                    ticks: { font: { family: "'Roboto', sans-serif" } }
                },
                y: {
                    title: { display: true, text: 'Price per Person ($)', font: { family: "'Roboto', sans-serif" } },
                    grid: { color: '#EAE0D5' },
                    ticks: { font: { family: "'Roboto', sans-serif" } }
                }
            }
        }
    });

});
</script>

</body>
</html>
